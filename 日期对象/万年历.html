<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		padding: 0;
		margin: 0;
		list-style: none;
	}
	html,body{
		background: lightblue;
	}
       .box{
       	width:400px;
       	height: 500px; 
       	background: #777;
       	position: absolute;
       	left: 0;
       	top: 0;
       	bottom: 0;
       	right: 0;
       	margin:auto;
       	overflow: hidden;
    }
    .time1{
    	width: 100%;
    	height: 50px;
    	line-height: 50px;
    	font-size: 30px;
    	color: #fff;
    	padding-left: 20px;
    }
    .time2{
        width: 100%;
        height: 50px;
        font-size: 16px;
        line-height: 50px;
        padding-left: 30px;
    }
    .time3{
        width: 100%;
        height: 50px;
    }
    .time3 span{
    	float: left;
    	width: 30px;
    	height: 50px;
    	background: #ccc;
    	text-align: center;
    	line-height: 50px;
    	font-size: 30px;
    	color: #000;
    	cursor: pointer;
    }
    .time3 span:first-of-type{
    	margin-left: 50px;
    }
    .time3 strong{
    	float: left;
    	width: 250px;
    	height: 50px;
    	text-align: center;
    	line-height: 50px;
    	font-size: 25px;
    }
    .time4{
    	width: 300px;
    	height: 50px;
    	margin: auto;
    }
    .time4 li{
    	float: left;
    	line-height: 50px;
    	font-size: 25px;
    	text-align: center;
    	margin-left: 15px;
    }
    .time5{

        width: 280px;
        height: 240px;
        margin: 20px auto;
    }	
    .time5 span{
    	float: left;
    	width: 40px;
    	height: 40px;
    	line-height: 40px;
    	text-align: center;
    	font-size: 20px;
    	color: #000;
    	cursor: pointer;
    }
    .time5 .color{
    	color:#ccc;
    }
    .time5 .active{
    	background: red;
    }
	</style>
</head>
<body>
   <div class="box">
      <div class="time1">14:44:44</div>
      <div class="time2">2019年9月9日,星期三</div>
      <div class="time3">
         <span>&lt;</span>
         <strong>2017年8月 </strong>
         <span>&gt;</span>
      </div>
      <div class="time4">
         <ul>
         	<li>一</li>
         	<li>二</li>
         	<li>三</li>
         	<li>四</li>
         	<li>五</li>
         	<li>六</li>
         	<li>日</li>
         </ul>
      </div>
      <div class="time5">
         <span class="color">1</span>
         <span class="active">2</span>
         <span>3</span>
         <span>4</span>
         <span>5</span>
         <span>6</span>
         <span>7</span>
         <span>8</span>
         <span>9</span>
         <span>10</span>
         <span>11</span>
         <span>12</span>
         <span>13</span>
         <span>14</span>
         <span>15</span>
         <span>16</span>
         <span>17</span>
         <span>18</span>
         <span>19</span>
         <span>20</span>
         <span>21</span>
         <span>22</span>
         <span>23</span>
         <span>24</span>
         <span>25</span>
         <span>26</span>
         <span>27</span>
         <span>28</span>
         <span>29</span>
         <span>30</span>
         <span>31</span>
         <span>32</span>
         <span>33</span>
         <span>34</span>
         <span>35</span>
         <span>36</span>
         <span>37</span>
         <span>38</span>
         <span>39</span>
         <span>40</span>
         <span>41</span>
         <span>42</span>
      </div>
      </div>
	<script>
        var time1=document.querySelector('.time1')
        var time2=document.querySelector('.time2')
        var time5=document.querySelector('.time5')
        var strong=document.querySelector('.time3 strong')
        var btn=document.querySelectorAll('.time3 span')
        //第一步：向time1写入正确的时间 14:44:44
        function time(){
        	var d=new Date();
        	time1.innerHTML=fornum(d.getHours())+':'+fornum(d.getMinutes())+':'+fornum(d.getSeconds())
        }
        time()
        setInterval(time,1000)
        //第二步：对于0--9之间的数字前面加0
        function fornum(v){
        	return v<10?'0'+v:v;
        }
        //第三步：向time2里写入2017年8月2日，星期三
        var d1=new Date();
        time2.innerHTML=d1.getFullYear()+'年'+(d1.getMonth()+1)+'月'+d1.getDate()+'日'+',星期'+forweek(d1.getDay());
       // 第四步：解决星期天汉字的问题
        function forweek(i){
        	var arr=['日','一','二','三','四','五','六']
        	return arr[i];
        }
        //第五步获取某个月的最后一天
        function lastD(year,month){
        	return new Date(year,month,0).getDate();
        }
        //alert(lastD(2017,5))
        //6.获取这个月的第一天是星期几
        function noww(year,month){
        	var week=new Date(year,(month-1),1).getDay();
        	if(week==0){
        		week=7;
        	}
        	return week;
        }
        //7.设置number盒子里的具体日期
        var d=new Date();
        function setDate(){
        	//上个月的最后一天
        	var lastday=lastD(d.getFullYear(),d.getMonth());
        	//这个月的最后一天
        	var nowday=lastD(d.getFullYear(),(d.getMonth()+1))
        	//这个月的第一天的星期
        	var nowweek=noww(d.getFullYear(),(d.getMonth()+1))
        	//alert(nowweek)
        	//alert(lastday)
        	//alert(nowday)
        	var str='';
        	var chu=1;
        	var lastweek=nowweek-1;
        	if(lastweek==0){
        		lastweek=7
        	}
        	for(var i=0;i<42;i++){
        		//上个月日期是实现方式
        		if(i<lastweek){
        			str='<span class="color">'+(lastday--)+'</span>'+str;
        			//下个月日期的实现方式
        		}else if(i>=nowday+lastweek){
        			str+='<span class="color">'+(chu++)+'</span>'
        		}else{
        			//本月i-lastweek+1每一个span对应的数字
        			var class1=d.getDate()==(i-lastweek+1)?'active':'';
        			if(d.getFullYear()!=new Date().getFullYear()||d.getMonth()!=new Date().getMonth()){
        				class1='';
        			}
        			str+='<span class='+class1+'>'+(i-lastweek+1)+'</span>'
        		}
        	}
        	time5.innerHTML=str;
        	strong.innerHTML=d.getFullYear()+'年'+(d.getMonth()+1)+'月';
        }
        //设置time5默认格式
        setDate()
        //点击左按钮返回上个月的日期
        btn[0].onclick=function(){
        	d.setMonth(d.getMonth()-1);
        	setDate()
        }
        btn[1].onclick=function(){
        	d.setMonth(d.getMonth()+1);
        	setDate()
        }
	</script>
</body>
</html>
